<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>新增供应商 - 供应商管理系统</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#165DFF',
                        success: '#00B42A',
                        warning: '#FF7D00',
                        danger: '#F53F3F',
                        gray: {
                            50: '#F9FAFB',
                            100: '#F2F3F5',
                            200: '#E5E6EB',
                            300: '#C9CDD4',
                            400: '#86909C',
                            500: '#4E5969',
                            600: '#1D2129',
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            /* 基础样式 */
            .badge { @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium; }
            .badge-required { @apply bg-danger/10 text-danger; }
            
            /* 页面布局 */
            .page-container { @apply min-h-screen bg-gray-50 font-sans text-gray-600; }
            .content-wrapper { @apply container mx-auto px-4 py-6 max-w-7xl; }

            /* 表单卡片 */
            .form-card { @apply bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden; }
            .form-header { @apply px-6 py-4 border-b border-gray-200 flex items-center justify-between bg-gray-50; }
            .form-header-title { @apply text-lg font-semibold text-gray-600; }

            /* 表单分组 */
            .form-group { @apply mb-8 px-6; }
            .form-group-title { @apply text-base font-medium text-gray-600 mb-4 flex items-center gap-2; }
            .form-group-title i { @apply text-primary; }

            /* 表单布局 */
            .form-grid { @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6; }
            .form-item { @apply col-span-1; }
            .form-item-full { @apply col-span-1 md:col-span-2 lg:col-span-3; }
            .form-item-row { @apply col-span-1 md:col-span-2 lg:col-span-3 grid grid-cols-1 md:grid-cols-2 gap-6; }
            
            /* 表单元素 */
            .form-label { @apply block text-sm font-medium text-gray-700 mb-1 flex items-center; }
            .form-label.required::after { content: '*'; @apply text-danger ml-1; }
            .form-input, .form-select, .form-textarea { @apply w-full px-3 py-2 border border-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary text-sm transition-all; }
            .form-input.error, .form-select.error, .form-textarea.error { @apply border-danger focus:ring-danger/20 focus:border-danger; }
            .form-error { @apply text-danger text-xs mt-1 flex items-center gap-1 hidden; }
            .form-error.show { @apply flex; }
            .form-hint { @apply text-gray-400 text-xs mt-1 flex items-center gap-1; }

            /* 按钮样式 */
            .form-btn { @apply px-6 py-2 rounded-md text-sm font-medium transition-all flex items-center gap-2; }
            .form-btn-primary { @apply bg-primary text-white hover:bg-primary/90; }
            .form-btn-default { @apply bg-white border border-gray-200 text-gray-600 hover:bg-gray-50; }
            .form-actions { @apply px-6 py-4 border-t border-gray-200 flex justify-end gap-3 bg-gray-50; }

            /* 复选框组 */
            .checkbox-group { @apply flex flex-wrap gap-4 mt-2 mb-1; }
            .checkbox-item { @apply flex items-center gap-2; }
            .checkbox-input { @apply w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary/20 cursor-pointer; }
            .checkbox-label { @apply text-sm text-gray-600 cursor-pointer; }

            /* 文件上传 */
            .upload-area { @apply border-2 border-dashed border-gray-200 rounded-md p-6 text-center hover:border-primary transition-colors cursor-pointer; }
            .upload-area i { @apply text-2xl text-gray-400 mb-2; }
            .upload-text { @apply text-sm text-gray-500 mb-1; }
            .upload-tip { @apply text-xs text-gray-400; }
            .upload-list { @apply mt-3; }
            .upload-item { @apply flex items-center gap-3 p-3 border border-gray-200 rounded mb-2; }
            .upload-icon { @apply text-xl text-primary; }
            .upload-info { @apply flex-1; }
            .upload-name { @apply text-sm font-medium; }
            .upload-size { @apply text-xs text-gray-400; }
            .upload-del { @apply text-gray-400 hover:text-danger text-sm p-1 rounded-full hover:bg-danger/5; }
        }
    </style>
</head>
<body class="page-container">

    <!-- 主内容区 -->
    <main class="content-wrapper">
        <div class="form-card">
            <!-- 表单头部 -->
            <div class="form-header">
                <h2 class="form-header-title">新增供应商</h2>
            </div>

            <!-- 表单主体 -->
            <form id="supplierForm">
                <!-- 基础信息组 - 增加padding-top:24px -->
                <div class="form-group" style="padding-top: 24px;">
                    <div class="form-group-title">
                        <i class="fa-solid fa-id-card"></i>
                        基础信息
                    </div>
                    <div class="form-grid">
                        <!-- 供应商名称 -->
                        <div class="form-item">
                            <label class="form-label required">供应商名称</label>
                            <input type="text" class="form-input" id="supplierName" placeholder="请输入供应商全称">
                            <div class="form-error"><i class="fa-solid fa-circle-exclamation"></i>供应商名称不能为空</div>
                        </div>
                        <!-- 供应商简称 -->
                        <div class="form-item">
                            <label class="form-label required">供应商简称</label>
                            <input type="text" class="form-input" id="supplierShortName" placeholder="请输入供应商简称">
                            <div class="form-error"><i class="fa-solid fa-circle-exclamation"></i>供应商简称不能为空</div>
                        </div>
                        <!-- 供应商名称（英文） -->
                        <div class="form-item" id="englishNameItem">
                            <label class="form-label">供应商名称（英文）</label>
                            <input type="text" class="form-input" placeholder="供应商类型为服务商时必填">
                            <div class="form-hint"><i class="fa-solid fa-circle-info"></i>仅服务商类型必填</div>
                            <div class="form-error"><i class="fa-solid fa-circle-exclamation"></i>供应商英文名称不能为空</div>
                        </div>
                        <!-- 供应商归属类型 -->
                        <div class="form-item">
                            <label class="form-label required">供应商归属类型</label>
                            <select class="form-select" id="supplierBelongType">
                                <option value="">请选择归属类型</option>
                                <option value="0">0 外部单位</option>
                                <option value="1">1 内部单位</option>
                            </select>
                            <div class="form-error"><i class="fa-solid fa-circle-exclamation"></i>供应商归属类型不能为空</div>
                        </div>
                        <!-- 供应商交易类型 -->
                        <div class="form-item">
                            <label class="form-label required">供应商交易类型</label>
                            <select class="form-select" id="supplierTradeType">
                                <option value="">请选择交易类型</option>
                                <option value="采购">采购</option>
                                <option value="服务">服务</option>
                            </select>
                            <div class="form-error"><i class="fa-solid fa-circle-exclamation"></i>供应商交易类型不能为空</div>
                        </div>
                        <!-- 外付类型 -->
                        <div class="form-item">
                            <label class="form-label required">外付类型</label>
                            <select class="form-select">
                                <option value="">请选择外付类型</option>
                                <option value="分包">分包</option>
                                <option value="分成">分成</option>
                                <option value="佣金">佣金</option>
                                <option value="采购">采购</option>
                            </select>
                            <div class="form-error"><i class="fa-solid fa-circle-exclamation"></i>外付类型不能为空</div>
                        </div>
                        <!-- 供应商分类 -->
                        <div class="form-item">
                            <label class="form-label required">供应商分类</label>
                            <select class="form-select">
                                <option value="">请选择供应商分类</option>
                                <option value="中央企业">中央企业</option>
                                <option value="地方国企">地方国企</option>
                                <option value="中央部委">中央部委</option>
                                <option value="地方政府">地方政府</option>
                                <option value="民营企业">民营企业</option>
                                <option value="事业单位">事业单位</option>
                                <option value="个体工商户">个体工商户</option>
                                <option value="公共组织">公共组织</option>
                                <option value="外资企业">外资企业</option>
                                <option value="个人客商">个人客商</option>
                                <option value="虚拟客商">虚拟客商</option>
                                <option value="其他">其他</option>
                            </select>
                            <div class="form-error"><i class="fa-solid fa-circle-exclamation"></i>供应商分类不能为空</div>
                        </div>
                        <!-- 信用代码类型 -->
                        <div class="form-item">
                            <label class="form-label required">信用代码类型</label>
                            <select class="form-select" id="creditCodeType">
                                <option value="">请选择信用代码类型</option>
                                <option value="01">01 统一社会信用代码</option>
                                <option value="02">02 公民身份证代码</option>
                                <option value="09">09 其他</option>
                                <option value="10">10 护照</option>
                                <option value="04">04 对白编码</option>
                                <option value="08">08 系统生成代码</option>
                            </select>
                            <div class="form-error"><i class="fa-solid fa-circle-exclamation"></i>信用代码类型不能为空</div>
                        </div>
                        <!-- 信用代码 -->
                        <div class="form-item">
                            <label class="form-label required">信用代码</label>
                            <input type="text" class="form-input" id="creditCode" placeholder="请输入对应类型的信用代码">
                            <div class="form-error"><i class="fa-solid fa-circle-exclamation"></i>信用代码不能为空</div>
                            <div class="form-error" id="creditCodeFormatError"><i class="fa-solid fa-circle-exclamation"></i>统一社会信用代码必须为18位</div>
                        </div>
                        <!-- 法定代表人 -->
                        <div class="form-item">
                            <label class="form-label required">法定代表人</label>
                            <input type="text" class="form-input" placeholder="请输入法定代表人姓名">
                            <div class="form-error"><i class="fa-solid fa-circle-exclamation"></i>法定代表人不能为空</div>
                        </div>
                        <!-- 注册资本 -->
                        <div class="form-item">
                            <label class="form-label required">注册资本（万元）</label>
                            <input type="number" class="form-input" placeholder="请输入注册资本金额" min="0" step="0.01">
                            <div class="form-error"><i class="fa-solid fa-circle-exclamation"></i>注册资本不能为空</div>
                        </div>
                        <!-- 注册币种 -->
                        <div class="form-item">
                            <label class="form-label required">注册币种</label>
                            <select class="form-select">
                                <option value="">请选择注册币种</option>
                                <option value="人民币">人民币</option>
                                <option value="美元">美元</option>
                                <option value="欧元">欧元</option>
                                <option value="港币">港币</option>
                                <option value="其他">其他</option>
                            </select>
                            <div class="form-error"><i class="fa-solid fa-circle-exclamation"></i>注册币种不能为空</div>
                        </div>
                        <!-- 注册成立单位 -->
                        <div class="form-item">
                            <label class="form-label required">注册成立单位</label>
                            <input type="text" class="form-input" placeholder="请输入批准成立的主管单位">
                            <div class="form-error"><i class="fa-solid fa-circle-exclamation"></i>注册成立单位不能为空</div>
                        </div>
                        <!-- 成立时间 -->
                        <div class="form-item">
                            <label class="form-label required">成立时间</label>
                            <input type="date" class="form-input">
                            <div class="form-error"><i class="fa-solid fa-circle-exclamation"></i>成立时间不能为空</div>
                        </div>
                        <!-- 风险等级 -->
                        <div class="form-item">
                            <label class="form-label required">风险等级</label>
                            <select class="form-select">
                                <option value="">请选择风险等级</option>
                                <option value="0">0 无风险</option>
                                <option value="1">1 低风险</option>
                                <option value="2">2 中风险</option>
                                <option value="3">3 高风险</option>
                            </select>
                            <div class="form-error"><i class="fa-solid fa-circle-exclamation"></i>风险等级不能为空</div>
                        </div>
                        
                        <!-- 风险程度和禁用说明同行展示 -->
                        <div class="form-item-row">
                            <!-- 风险程度 - 修改选项：0 待禁用/1 未禁用 / 2 已禁用 -->
                            <div class="form-item">
                                <label class="form-label required">风险程度</label>
                                <select class="form-select" id="riskLevel">
                                    <option value="">请选择风险程度</option>
                                    <option value="0">0 待禁用</option>
                                    <option value="1">1 未禁用</option>
                                    <option value="2">2 已禁用</option>
                                </select>
                                <div class="form-error"><i class="fa-solid fa-circle-exclamation"></i>风险程度不能为空</div>
                            </div>
                            <!-- 禁用说明 - 改为输入框并拉宽 -->
                            <div class="form-item form-item-full" id="disableReasonItem">
                                <label class="form-label" id="disableReasonLabel">禁用说明</label>
                                <input type="text" class="form-input" placeholder="风险程度为已禁用时必填">
                                <div class="form-error"><i class="fa-solid fa-circle-exclamation"></i>禁用说明不能为空</div>
                            </div>
                        </div>
                        
                        <!-- 供应商有效期 -->
                        <div class="form-item">
                            <label class="form-label required">供应商有效期</label>
                            <select class="form-select">
                                <option value="">请选择有效期</option>
                                <option value="1">1年</option>
                                <option value="2">2年</option>
                                <option value="3">3年</option>
                                <option value="长期">长期</option>
                            </select>
                            <div class="form-error"><i class="fa-solid fa-circle-exclamation"></i>供应商有效期不能为空</div>
                        </div>
                        <!-- 时区 -->
                        <div class="form-item">
                            <label class="form-label required">时区</label>
                            <select class="form-select">
                                <option value="">请选择时区</option>
                                <option value="UTC+8">UTC+8 (中国标准时间)</option>
                                <option value="UTC+7">UTC+7 (东南亚)</option>
                                <option value="UTC+0">UTC+0 (格林威治时间)</option>
                                <option value="UTC-5">UTC-5 (美国东部时间)</option>
                                <option value="其他">其他</option>
                            </select>
                            <div class="form-error"><i class="fa-solid fa-circle-exclamation"></i>时区不能为空</div>
                        </div>
                        <!-- 主要业务语言 -->
                        <div class="form-item">
                            <label class="form-label required">主要业务语言</label>
                            <select class="form-select">
                                <option value="">请选择主要业务语言</option>
                                <option value="中文">中文</option>
                                <option value="英文">英文</option>
                                <option value="日文">日文</option>
                                <option value="韩文">韩文</option>
                                <option value="其他">其他</option>
                            </select>
                            <div class="form-error"><i class="fa-solid fa-circle-exclamation"></i>主要业务语言不能为空</div>
                        </div>
                    </div>
                </div>

                <!-- 供应商业务类型 -->
                <div class="form-group">
                    <div class="form-group-title">
                        <i class="fa-solid fa-briefcase"></i>
                        供应商业务类型
                    </div>
                    <div class="form-item-full">
                        <label class="form-label required">业务类型（可多选）</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="type1" class="checkbox-input" value="服务提供商">
                                <label for="type1" class="checkbox-label">服务提供商</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="type2" class="checkbox-input" value="分包方">
                                <label for="type2" class="checkbox-label">分包方</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="type3" class="checkbox-input" value="物资供应商">
                                <label for="type3" class="checkbox-label">物资供应商</label>
                            </div>
                        </div>
                        <div class="form-error"><i class="fa-solid fa-circle-exclamation"></i>至少选择一种业务类型</div>
                    </div>
                </div>

                <!-- 资质文件上传(必传)：资质审核、社保证明、实缴资本证明、资质证书 -->
                <div class="form-group" id="fileUploadGroup">
                    <div class="form-group-title">
                        <i class="fa-solid fa-file-upload"></i>
                        资质文件上传
                    </div>
                    <div class="form-grid">
                        <!-- 资质审核文件 -->
                        <div class="form-item-full">
                            <label class="form-label required">资质审核文件</label>
                            <div class="upload-area">
                                <i class="fa-solid fa-cloud-upload"></i>
                                <div class="upload-text">点击或拖拽文件至此处上传（资质审核相关证明文件）</div>
                                <div class="upload-tip">支持 PDF、JPG、PNG 格式，单个文件不超过 10MB</div>
                                <input type="file" class="hidden" multiple accept=".pdf,.jpg,.jpeg,.png" id="qualificationAuditFile">
                            </div>
                            <div class="form-error"><i class="fa-solid fa-circle-exclamation"></i>资质审核文件不能为空</div>
                        </div>

                        <!-- 社保证明文件 -->
                        <div class="form-item-full">
                            <label class="form-label required">社保证明文件</label>
                            <div class="upload-area">
                                <i class="fa-solid fa-cloud-upload"></i>
                                <div class="upload-text">点击或拖拽文件至此处上传（社保证明相关文件）</div>
                                <div class="upload-tip">支持 PDF、JPG、PNG 格式，单个文件不超过 10MB</div>
                                <input type="file" class="hidden" multiple accept=".pdf,.jpg,.jpeg,.png" id="socialSecurityFile">
                            </div>
                            <div class="form-error"><i class="fa-solid fa-circle-exclamation"></i>社保证明文件不能为空</div>
                        </div>

                        <!-- 实缴资本证明文件 -->
                        <div class="form-item-full">
                            <label class="form-label required">实缴资本证明文件</label>
                            <div class="upload-area">
                                <i class="fa-solid fa-cloud-upload"></i>
                                <div class="upload-text">点击或拖拽文件至此处上传（实缴资本证明相关文件）</div>
                                <div class="upload-tip">支持 PDF、JPG、PNG 格式，单个文件不超过 10MB</div>
                                <input type="file" class="hidden" multiple accept=".pdf,.jpg,.jpeg,.png" id="paidCapitalFile">
                            </div>
                            <div class="form-error"><i class="fa-solid fa-circle-exclamation"></i>实缴资本证明文件不能为空</div>
                        </div>

                        <!-- 资质证书文件 -->
                        <div class="form-item-full">
                            <label class="form-label required">资质证书文件</label>
                            <div class="upload-area">
                                <i class="fa-solid fa-cloud-upload"></i>
                                <div class="upload-text">点击或拖拽文件至此处上传（资质证书相关文件）</div>
                                <div class="upload-tip">支持 PDF、JPG、PNG 格式，单个文件不超过 10MB</div>
                                <input type="file" class="hidden" multiple accept=".pdf,.jpg,.jpeg,.png" id="qualificationCertificateFile">
                            </div>
                            <div class="form-error"><i class="fa-solid fa-circle-exclamation"></i>资质证书文件不能为空</div>
                        </div>
                    </div>
                </div>

                <!-- 地址信息 -->
                <div class="form-group">
                    <div class="form-group-title">
                        <i class="fa-solid fa-map-marker-alt"></i>
                        地址信息
                    </div>
                    <div class="form-grid">
                        <!-- 国别 -->
                        <div class="form-item">
                            <label class="form-label required">国别</label>
                            <select class="form-select" id="country">
                                <option value="">请选择国别</option>
                                <option value="中国">中国</option>
                                <option value="美国">美国</option>
                                <option value="日本">日本</option>
                                <option value="韩国">韩国</option>
                                <option value="其他">其他</option>
                            </select>
                            <div class="form-error"><i class="fa-solid fa-circle-exclamation"></i>国别不能为空</div>
                        </div>
                        <!-- 国家/地区 -->
                        <div class="form-item">
                            <label class="form-label required">国家/地区</label>
                            <select class="form-select" id="region">
                                <option value="">请先选择国别</option>
                            </select>
                            <div class="form-error"><i class="fa-solid fa-circle-exclamation"></i>国家/地区不能为空</div>
                        </div>
                        <!-- 省、直辖市 -->
                        <div class="form-item">
                            <label class="form-label required">省、直辖市</label>
                            <select class="form-select" id="province">
                                <option value="">请先选择国家/地区</option>
                            </select>
                            <div class="form-error"><i class="fa-solid fa-circle-exclamation"></i>省、直辖市不能为空</div>
                        </div>
                        <!-- 市（省级） -->
                        <div class="form-item">
                            <label class="form-label required">市（省级）</label>
                            <select class="form-select" id="city">
                                <option value="">请先选择省、直辖市</option>
                            </select>
                            <div class="form-error"><i class="fa-solid fa-circle-exclamation"></i>市（省级）不能为空</div>
                        </div>
                        <!-- 县/区 -->
                        <div class="form-item">
                            <label class="form-label required">县/直辖市区/市（省级）区</label>
                            <select class="form-select" id="district">
                                <option value="">请先选择市（省级）</option>
                            </select>
                            <div class="form-error"><i class="fa-solid fa-circle-exclamation"></i>县/区不能为空</div>
                        </div>
                        <!-- 公司网址 -->
                        <div class="form-item">
                            <label class="form-label">公司网址</label>
                            <input type="url" class="form-input" placeholder="请输入公司官网地址">
                        </div>
                        <!-- 注册地址 -->
                        <div class="form-item-full">
                            <label class="form-label required">注册地址</label>
                            <input type="text" class="form-input" placeholder="请输入详细注册地址">
                            <div class="form-error"><i class="fa-solid fa-circle-exclamation"></i>注册地址不能为空</div>
                        </div>
                        <!-- 注册地址（英文） -->
                        <div class="form-item-full">
                            <label class="form-label">注册地址（英文）</label>
                            <input type="text" class="form-input" placeholder="涉外业务必填">
                            <div class="form-hint"><i class="fa-solid fa-circle-info"></i>用于涉外业务</div>
                        </div>
                    </div>
                </div>

                <!-- 经营范围 - 改为不必填 -->
                <div class="form-group">
                    <div class="form-group-title">
                        <i class="fa-solid fa-list-alt"></i>
                        经营范围
                    </div>
                    <div class="form-grid">
                        <!-- 经营范围 -->
                        <div class="form-item-full">
                            <label class="form-label">经营范围</label>
                            <textarea class="form-textarea" rows="4" placeholder="请输入详细经营范围（选填）"></textarea>
                        </div>
                        <!-- 经营范围（英文） -->
                        <div class="form-item-full">
                            <label class="form-label">经营范围（英文）</label>
                            <textarea class="form-textarea" rows="4" placeholder="涉外业务必填"></textarea>
                            <div class="form-hint"><i class="fa-solid fa-circle-info"></i>用于涉外业务</div>
                        </div>
                    </div>
                </div>

                <!-- 合格评定信息 - 新增评定文件上传（根据业务类型生成对应数量入口） -->
                <div class="form-group">
                    <div class="form-group-title">
                        <i class="fa-solid fa-check-circle"></i>
                        合格评定信息
                    </div>
                    <div class="form-grid">
                        <!-- 供应商合格评定信息 -->
                        <div class="form-item-full">
                            <label class="form-label required">供应商合格评定信息</label>
                            <textarea class="form-textarea" rows="4" placeholder="请填写供应商资质合格评定的相关说明或结果"></textarea>
                            <div class="form-error"><i class="fa-solid fa-circle-exclamation"></i>供应商合格评定信息不能为空</div>
                        </div>
                        
                        <!-- 评定文件上传区域（动态生成） -->
                        <div class="form-item-full" id="evaluationFilesContainer">
                            <label class="form-label required">评定文件</label>
                            <div id="evaluationFileList">
                                <!-- 初始默认一个上传入口 -->
                                <div class="evaluation-file-item mb-4">
                                    <div class="upload-area">
                                        <i class="fa-solid fa-cloud-upload"></i>
                                        <div class="upload-text">点击或拖拽文件至此处上传（供应商资质评定证明文件）</div>
                                        <div class="upload-tip">支持 PDF、JPG、PNG 格式，单个文件不超过 10MB</div>
                                        <input type="file" class="hidden evaluation-file-input" multiple accept=".pdf,.jpg,.jpeg,.png">
                                    </div>
                                    <div class="form-error"><i class="fa-solid fa-circle-exclamation"></i>评定文件不能为空</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 表单操作按钮 -->
                <div class="form-actions">
                    <button type="button" class="form-btn form-btn-default">
                        <i class="fa-solid fa-arrow-left"></i> 返回列表
                    </button>
                    <button type="button" class="form-btn form-btn-default">
                        <i class="fa-solid fa-save"></i> 保存草稿
                    </button>
                    <button type="submit" class="form-btn form-btn-primary">
                        <i class="fa-solid fa-check"></i> 提交审核
                    </button>
                </div>
            </form>
        </div>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 1. 交易类型联动：服务商显示英文名称输入框
            const tradeTypeSelect = document.getElementById('supplierTradeType');
            const englishNameItem = document.getElementById('englishNameItem');
            const englishNameLabel = englishNameItem.querySelector('.form-label');
            const englishNameError = englishNameItem.querySelector('.form-error');
            const englishNameHint = englishNameItem.querySelector('.form-hint');
            
            tradeTypeSelect.addEventListener('change', function() {
                if (this.value === '服务') {
                    englishNameLabel.classList.add('required');
                    englishNameHint.style.display = 'none';
                } else {
                    englishNameLabel.classList.remove('required');
                    englishNameHint.style.display = 'flex';
                    englishNameError.style.display = 'none';
                    englishNameError.classList.remove('show');
                }
            });

            // 2. 风险程度联动：已禁用显示禁用说明必填
            const riskLevelSelect = document.getElementById('riskLevel');
            const disableReasonItem = document.getElementById('disableReasonItem');
            const disableReasonLabel = document.getElementById('disableReasonLabel');
            const disableReasonError = disableReasonItem.querySelector('.form-error');
            
            riskLevelSelect.addEventListener('change', function() {
                if (this.value === '2') {
                    disableReasonLabel.classList.add('required');
                } else {
                    disableReasonLabel.classList.remove('required');
                    disableReasonError.style.display = 'none';
                    disableReasonError.classList.remove('show');
                    disableReasonItem.querySelector('input').classList.remove('error');
                }
            });

            // 3. 业务类型复选框联动：动态生成对应数量的评定文件上传入口
            const businessTypeCheckboxes = document.querySelectorAll('.checkbox-input');
            const evaluationFileList = document.getElementById('evaluationFileList');
            
            // 初始化评定文件上传入口生成函数
            function generateEvaluationFiles() {
                // 清空现有上传入口（保留模板）
                evaluationFileList.innerHTML = '';
                
                // 获取选中的业务类型数量
                const checkedCount = Array.from(businessTypeCheckboxes).filter(cb => cb.checked).length;
                const count = checkedCount > 0 ? checkedCount : 1;
                
                // 生成对应数量的上传入口
                for (let i = 0; i < count; i++) {
                    const fileItem = document.createElement('div');
                    fileItem.className = 'evaluation-file-item mb-4';
                    fileItem.innerHTML = `
                        <div class="upload-area">
                            <i class="fa-solid fa-cloud-upload"></i>
                            <div class="upload-text">点击或拖拽文件至此处上传（供应商资质评定证明文件 ${i+1}）</div>
                            <div class="upload-tip">支持 PDF、JPG、PNG 格式，单个文件不超过 10MB</div>
                            <input type="file" class="hidden evaluation-file-input" multiple accept=".pdf,.jpg,.jpeg,.png">
                        </div>
                        <div class="form-error"><i class="fa-solid fa-circle-exclamation"></i>评定文件 ${i+1} 不能为空</div>
                    `;
                    evaluationFileList.appendChild(fileItem);
                    
                    // 绑定文件上传点击事件
                    const uploadArea = fileItem.querySelector('.upload-area');
                    const fileInput = fileItem.querySelector('.evaluation-file-input');
                    uploadArea.addEventListener('click', function() {
                        fileInput.click();
                    });
                    
                    // 文件选择后处理
                    fileInput.addEventListener('change', function() {
                        if (this.files.length > 0) {
                            console.log(`选择的评定文件 ${i+1}：`, this.files);
                        }
                    });
                }
            }
            
            // 业务类型变更时重新生成评定文件上传入口
            businessTypeCheckboxes.forEach(checkbox => {
                checkbox.addEventListener('change', generateEvaluationFiles);
            });
            
            // 页面加载时初始化生成一个上传入口
            generateEvaluationFiles();

            // 4. 地址联动（中国地区联动）
            const countrySelect = document.getElementById('country');
            const regionSelect = document.getElementById('region');
            const provinceSelect = document.getElementById('province');
            const citySelect = document.getElementById('city');
            const districtSelect = document.getElementById('district');

            // 国别变更联动
            countrySelect.addEventListener('change', function() {
                // 清空下级选项
                regionSelect.innerHTML = '';
                provinceSelect.innerHTML = '';
                citySelect.innerHTML = '';
                districtSelect.innerHTML = '';

                if (this.value === '中国') {
                    // 添加中国地区选项
                    const regionOptions = [
                        { value: '', text: '请选择' },
                        { value: '中国大陆', text: '中国大陆' },
                        { value: '中国香港', text: '中国香港' },
                        { value: '中国澳门', text: '中国澳门' },
                        { value: '中国台湾', text: '中国台湾' }
                    ];
                    
                    regionOptions.forEach(option => {
                        const opt = document.createElement('option');
                        opt.value = option.value;
                        opt.textContent = option.text;
                        regionSelect.appendChild(opt);
                    });
                } else {
                    // 其他国家
                    const opt = document.createElement('option');
                    opt.value = this.value;
                    opt.textContent = this.value;
                    regionSelect.appendChild(opt);
                    
                    // 简化其他国家的地址选择
                    provinceSelect.innerHTML = `<option value="${this.value}">${this.value}</option>`;
                    citySelect.innerHTML = `<option value="${this.value}">${this.value}</option>`;
                    districtSelect.innerHTML = `<option value="${this.value}">${this.value}</option>`;
                }
            });

            // 地区变更联动（中国大陆）
            regionSelect.addEventListener('change', function() {
                if (this.value === '中国大陆') {
                    // 示例：添加部分省份
                    const provinceOptions = [
                        { value: '', text: '请选择' },
                        { value: '北京市', text: '北京市' },
                        { value: '上海市', text: '上海市' },
                        { value: '广东省', text: '广东省' },
                        { value: '江苏省', text: '江苏省' }
                    ];
                    
                    provinceSelect.innerHTML = '';
                    provinceOptions.forEach(option => {
                        const opt = document.createElement('option');
                        opt.value = option.value;
                        opt.textContent = option.text;
                        provinceSelect.appendChild(opt);
                    });
                } else if (this.value) {
                    // 港澳台地区
                    provinceSelect.innerHTML = `<option value="${this.value}">${this.value}</option>`;
                    citySelect.innerHTML = `<option value="${this.value}">${this.value}</option>`;
                    districtSelect.innerHTML = `<option value="${this.value}">${this.value}</option>`;
                }
            });

            // 省份变更联动
            provinceSelect.addEventListener('change', function() {
                citySelect.innerHTML = '';
                districtSelect.innerHTML = '';

                if (this.value === '北京市') {
                    const cityOptions = [
                        { value: '', text: '请选择' },
                        { value: '北京市', text: '北京市' }
                    ];
                    
                    cityOptions.forEach(option => {
                        const opt = document.createElement('option');
                        opt.value = option.value;
                        opt.textContent = option.text;
                        citySelect.appendChild(opt);
                    });
                } else if (this.value === '上海市') {
                    const cityOptions = [
                        { value: '', text: '请选择' },
                        { value: '上海市', text: '上海市' }
                    ];
                    
                    cityOptions.forEach(option => {
                        const opt = document.createElement('option');
                        opt.value = option.value;
                        opt.textContent = option.text;
                        citySelect.appendChild(opt);
                    });
                } else if (this.value === '广东省') {
                    const cityOptions = [
                        { value: '', text: '请选择' },
                        { value: '广州市', text: '广州市' },
                        { value: '深圳市', text: '深圳市' },
                        { value: '东莞市', text: '东莞市' }
                    ];
                    
                    cityOptions.forEach(option => {
                        const opt = document.createElement('option');
                        opt.value = option.value;
                        opt.textContent = option.text;
                        citySelect.appendChild(opt);
                    });
                } else if (this.value) {
                    // 其他省份默认
                    const opt = document.createElement('option');
                    opt.value = this.value;
                    opt.textContent = this.value;
                    citySelect.appendChild(opt);
                }
            });

            // 城市变更联动
            citySelect.addEventListener('change', function() {
                districtSelect.innerHTML = '';

                if (this.value === '北京市') {
                    const districtOptions = [
                        { value: '', text: '请选择' },
                        { value: '东城区', text: '东城区' },
                        { value: '西城区', text: '西城区' },
                        { value: '海淀区', text: '海淀区' },
                        { value: '朝阳区', text: '朝阳区' }
                    ];
                    
                    districtOptions.forEach(option => {
                        const opt = document.createElement('option');
                        opt.value = option.value;
                        opt.textContent = option.text;
                        districtSelect.appendChild(opt);
                    });
                } else if (this.value === '广州市') {
                    const districtOptions = [
                        { value: '', text: '请选择' },
                        { value: '天河区', text: '天河区' },
                        { value: '越秀区', text: '越秀区' },
                        { value: '海珠区', text: '海珠区' }
                    ];
                    
                    districtOptions.forEach(option => {
                        const opt = document.createElement('option');
                        opt.value = option.value;
                        opt.textContent = option.text;
                        districtSelect.appendChild(opt);
                    });
                } else if (this.value) {
                    // 其他城市默认
                    const opt = document.createElement('option');
                    opt.value = this.value;
                    opt.textContent = this.value;
                    districtSelect.appendChild(opt);
                }
            });

            // 5. 信用代码格式校验
            const creditCodeType = document.getElementById('creditCodeType');
            const creditCode = document.getElementById('creditCode');
            const creditCodeError = document.querySelector('#creditCode + .form-error');
            const creditCodeFormatError = document.getElementById('creditCodeFormatError');

            creditCodeType.addEventListener('change', function() {
                creditCode.value = '';
                creditCode.placeholder = '请输入对应类型的信用代码';
                creditCodeError.style.display = 'none';
                creditCodeError.classList.remove('show');
                creditCodeFormatError.style.display = 'none';
                creditCodeFormatError.classList.remove('show');
                creditCode.classList.remove('error');
                
                if (this.value === '01') {
                    creditCode.placeholder = '统一社会信用代码为18位';
                } else if (this.value === '02') {
                    creditCode.placeholder = '身份证号码为18位';
                }
            });

            // 6. 文件上传点击触发（通用）
            document.querySelectorAll('.upload-area').forEach(area => {
                const fileInput = area.querySelector('input[type="file"]');
                if (fileInput) {
                    area.addEventListener('click', function() {
                        fileInput.click();
                    });

                    // 文件选择后处理
                    fileInput.addEventListener('change', function() {
                        if (this.files.length > 0) {
                            console.log('选择的文件：', this.files);
                        }
                    });
                }
            });

            // 7. 删除已上传文件
            document.querySelectorAll('.upload-del button').forEach(btn => {
                btn.addEventListener('click', function(e) {
                    e.preventDefault();
                    if (confirm('确定要删除该文件吗？')) {
                        this.closest('.upload-item').remove();
                    }
                });
            });

            // 8. 表单提交验证
            const supplierForm = document.getElementById('supplierForm');
            
            supplierForm.addEventListener('submit', function(e) {
                e.preventDefault();
                let isValid = true;

                // 重置所有错误状态
                document.querySelectorAll('.form-error').forEach(el => {
                    el.classList.remove('show');
                    el.style.display = 'none';
                });
                document.querySelectorAll('.form-input, .form-select, .form-textarea').forEach(el => {
                    el.classList.remove('error');
                });

                // 验证所有必填项
                document.querySelectorAll('.form-label.required').forEach(label => {
                    const formItem = label.closest('.form-item, .form-item-full');
                    const input = formItem.querySelector('input, select, textarea');
                    const errorText = formItem.querySelector('.form-error');

                    if (!input.value.trim()) {
                        isValid = false;
                        input.classList.add('error');
                        errorText.classList.add('show');
                        errorText.style.display = 'flex';
                    }

                    // 特殊验证：信用代码格式
                    if (input.id === 'creditCode' && creditCodeType.value === '01' && input.value.trim().length !== 18) {
                        isValid = false;
                        input.classList.add('error');
                        creditCodeError.style.display = 'none';
                        creditCodeError.classList.remove('show');
                        creditCodeFormatError.style.display = 'flex';
                        creditCodeFormatError.classList.add('show');
                    }

                    // 特殊验证：禁用说明
                    if (riskLevelSelect.value === '2' && disableReasonItem.querySelector('input').value.trim() === '') {
                        isValid = false;
                        const disableInput = disableReasonItem.querySelector('input');
                        const disableError = disableReasonItem.querySelector('.form-error');
                        disableInput.classList.add('error');
                        disableError.classList.add('show');
                        disableError.style.display = 'flex';
                    }

                    // 特殊验证：英文名称（服务商必填）
                    if (tradeTypeSelect.value === '服务' && englishNameItem.querySelector('input').value.trim() === '') {
                        isValid = false;
                        englishNameItem.querySelector('input').classList.add('error');
                        englishNameError.classList.add('show');
                        englishNameError.style.display = 'flex';
                    }
                });

                // 验证业务类型至少选一个
                const businessTypeChecked = Array.from(businessTypeCheckboxes).some(cb => cb.checked);
                const businessTypeError = document.querySelector('.checkbox-group + .form-error');
                
                if (!businessTypeChecked) {
                    isValid = false;
                    businessTypeError.classList.add('show');
                    businessTypeError.style.display = 'flex';
                }

                // 验证资质文件上传（必传）
                const qualificationFiles = [
                    document.getElementById('qualificationAuditFile'),
                    document.getElementById('socialSecurityFile'),
                    document.getElementById('paidCapitalFile'),
                    document.getElementById('qualificationCertificateFile')
                ];
                
                qualificationFiles.forEach(fileInput => {
                    const errorText = fileInput.parentElement.nextElementSibling;
                    if (fileInput.files.length === 0) {
                        isValid = false;
                        errorText.classList.add('show');
                        errorText.style.display = 'flex';
                    }
                });

                // 验证评定文件上传（根据业务类型数量验证）
                const evaluationFileInputs = document.querySelectorAll('.evaluation-file-input');
                evaluationFileInputs.forEach((fileInput, index) => {
                    const errorText = fileInput.parentElement.nextElementSibling;
                    if (fileInput.files.length === 0) {
                        isValid = false;
                        errorText.classList.add('show');
                        errorText.style.display = 'flex';
                    }
                });

                if (isValid) {
                    // 验证通过，提交表单
                    alert('表单验证通过，正在提交审核...');
                    // 这里可添加AJAX提交逻辑
                } else {
                    // 滚动到第一个错误项
                    const firstError = document.querySelector('.form-error.show') || document.querySelector('.form-error[style*="flex"]');
                    if (firstError) {
                        firstError.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    }
                }
            });
        });
    </script>
</body>
</html>
